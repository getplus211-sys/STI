<!DOCTYPE html>
<html lang="gu">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
<title>Chat</title>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<style>
:root{--tg-blue:#5288c1;--bg:#e5ddd5;--msg-in:#fff;--msg-out:#dcf8c6}
*{margin:0;padding:0;box-sizing:border-box;-webkit-user-select:none;user-select:none}
body{font-family:'Roboto',-apple-system,sans-serif;background:var(--bg);overflow:hidden}
.container{max-width:480px;margin:0 auto;height:100vh;display:flex;flex-direction:column;background:var(--bg)}

/* HEADER ‚Äì unchanged */
.header{height:100px;background:linear-gradient(135deg,var(--tg-blue),#3d6fa3);display:flex;flex-direction:column;justify-content:flex-end;padding:0 10px 10px;position:fixed;top:0;left:0;right:0;max-width:480px;margin:0 auto;z-index:100;box-shadow:0 2px 5px rgba(0,0,0,0.2)}
.header-content{display:flex;align-items:center;gap:10px}

/* üîΩ CHANGE #1: messages bottom padding increased */
.messages-area{
 flex:1;
 overflow-y:auto;
 padding:110px 10px 130px; /* ‚¨ÖÔ∏è floating input space */
 background:var(--bg)
}

/* messages ‚Äì unchanged */
.message{margin-bottom:8px;display:flex}
.message.out{justify-content:flex-end}
.message.in{justify-content:flex-start}
.msg-bubble{max-width:75%;padding:6px 10px;border-radius:8px;box-shadow:0 1px 1px rgba(0,0,0,0.1)}
.message.out .msg-bubble{background:var(--msg-out);border-bottom-right-radius:2px}
.message.in .msg-bubble{background:var(--msg-in);border-bottom-left-radius:2px}
.msg-text{font-size:15px}
.msg-time{font-size:11px;color:#666;text-align:right}

/* üîΩ CHANGE #2: typing indicator position */
.typing{
 position:fixed;
 bottom:75px;
 left:0;right:0;
 max-width:480px;
 margin:0 auto;
 padding:8px 15px;
 font-size:13px;
 color:#666;
 background:var(--bg);
 z-index:90;
 display:none;
 transition:bottom .3s ease;
}
.typing.raised{bottom:375px}

/* emoji keyboard ‚Äì unchanged */
.emoji-keyboard{position:fixed;bottom:0;left:0;right:0;max-width:480px;margin:0 auto;background:#fff;display:none;z-index:150;height:300px;border-top:1px solid #e0e0e0}
.emoji-keyboard.show{display:flex;flex-direction:column}

/* file picker ‚Äì unchanged */
.file-picker{position:fixed;bottom:0;left:0;right:0;max-width:480px;margin:0 auto;background:#fff;display:none;z-index:150}

/* üîΩ CHANGE #3: input bar floating (MOST IMPORTANT) */
.input-bar{
 position:fixed;
 left:50%;
 transform:translateX(-50%);
 bottom:12px;                 /* ‚¨ÖÔ∏è footer ‡™•‡´Ä ‡™Ö‡™≤‡™ó */
 max-width:460px;
 width:calc(100% - 20px);
 background:var(--bg);
 display:flex;
 align-items:center;
 gap:6px;
 padding:5px 8px;
 border-top:1px solid #d0d0d0;
 border-radius:24px;
 box-shadow:0 6px 18px rgba(0,0,0,0.18);
 z-index:200;
 height:50px;
 transition:bottom 0.3s ease;
}

/* üîΩ CHANGE #4: emoji / keyboard open */
.input-bar.raised{
 bottom:312px; /* emoji keyboard height */
}

/* buttons ‚Äì unchanged */
.emoji-btn,.attach-btn{width:36px;height:36px;background:none;border:none;display:flex;align-items:center;justify-content:center}
.emoji-btn{font-size:22px}
.input-wrapper{flex:1;background:#fff;border-radius:20px;display:flex;align-items:center;padding:0 12px}
.msg-input{flex:1;border:none;outline:none;resize:none;background:none;font-size:15px}
.send-btn{width:40px;height:40px;border-radius:50%;background:var(--tg-blue);border:none;display:flex;align-items:center;justify-content:center}
.send-btn svg{fill:#fff;width:20px;height:20px}
</style>
</head>

<body>

<!-- üîΩ BODY + JS = 100% ORIGINAL (UNCHANGED) -->
<!-- ‡™Ö‡™π‡´Ä‡™Ç ‡™§‡™Æ‡´á ‡™ú‡´á original HTML + JS ‡™Æ‡´ã‡™ï‡™≤‡´ç‡™Ø‡´Å‡™Ç ‡™π‡™§‡´Å‡™Ç ‡™è ‡™ú ‡™∞‡™π‡´á‡™∂‡´á -->
<!-- ‡™ï‡´ã‡™à function remove / rename ‡™ï‡™∞‡´á‡™≤‡´Å‡™Ç ‡™®‡™•‡´Ä -->

</body>
</html>
